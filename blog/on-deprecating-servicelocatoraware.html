<!DOCTYPE html><html lang=en xml:lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=Content-Type content="text/html; charset=UTF-8"><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=0"><meta name=theme-color content=#70b49c><meta name=msapplication-navbutton-color content=#70b49c><meta name=apple-mobile-web-app-status-bar-style content=black-translucent><meta name=mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-capable content=yes><meta name=application-name content="Julien Guittard"><meta name=apple-mobile-web-app-title content="Julien Guittard"><meta name=msapplication-starturl content=/ ><link rel=canonical itemprop=url href=https://julien.guittard.io/blog/on-deprecating-servicelocatoraware.html><link rel=alternate type=application/rss+xml title=RSS href=/feed.xml><title>Julien Guittard &nbsp;|&nbsp;On Deprecating ServiceLocatorAware</title><meta name=author itemprop=author content="Julien Guittard"><link rel=author href="http://google.com/+JulienGuittardWebpage?rel=author"><meta name=description itemprop=description content="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor."><meta property=og:locale content=en_US><meta property=og:type content=article><meta property=og:title content="On Deprecating ServiceLocatorAware"><meta property=og:url content=https://julien.guittard.io/blog/on-deprecating-servicelocatoraware.html><meta property=og:image content=https://julien.guittard.io/thumbs/ ><meta property=og:site_name content="Julien Guittard"><meta property=article:publisher content=http://www.facebook.com/julien.guittard><meta property=article:author content=https://www.facebook.com/julien.guittard><meta property=article:published_time content=2016-04-26T12:25:00-04:00><meta property=og:description content="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor."><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="On Deprecating ServiceLocatorAware"><meta name=twitter:description content="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor."><meta name=twitter:site content=@julienguittard><meta name=twitter:creator content=@julienguittard><meta name=twitter:card content=summary><link rel=manifest href=/manifest.json><link rel=icon type=image/x-icon href=/favicon.ico><link rel=icon href=/icons/icon-128.png><link rel=icon href=/icons/icon-192.png><link rel=icon href=/icons/icon-120.png><link rel=icon href=/icons/icon-120.png sizes=120x120><link rel=icon href=/icons/icon-152.png sizes=152x152><link rel=icon href=/icons/icon-167.png sizes=167x167><link rel=icon href=/icons/icon-180.png sizes=180x180><link rel=stylesheet type=text/css href=/styles/main.css><!--[if lt IE 9]>
  	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  	<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]--><script type=text/javascript>WebFontConfig={google:{families:["Open+Sans:300,400,700:latin","Lato:700,900:latin"]}},function(){var t=document.createElement("script");t.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",t.type="text/javascript",t.async="true";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script></head><body itemscope itemtype=https://schema.org/WebPage><header class="header push-down-45" role=banner itemscope itemtype=http://schema.org/WPHeader><div class=container><div class="logo pull-left" itemprop=publisher itemscope id=jg-organization itemtype=https://schema.org/Organization><a href=/ rel=home itemprop=url><span itemprop=logo itemscope itemtype=https://schema.org/ImageObject><img itemprop=contenturl src=https://julien.guittard.io/images/logo.png alt=JG width=352 height=140><meta itemprop=width content=352><meta itemprop=height content=140><meta itemprop=url content=https://julien.guittard.io/images/logo.png></span><meta itemprop=name content="Julien Guittard"></a></div><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#top-navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button></div><nav class="navbar navbar-default" role=navigation><div class="collapse navbar-collapse" id=top-navbar-collapse><ul class=navigation role=menu itemscope itemtype=http://www.schema.org/SiteNavigationElement><li role=menuitem><a href=https://julien.guittard.io/ itemprop=url><span itemprop=name>Home</span></a></li><li role=menuitem><a href=https://julien.guittard.io/blog/ itemprop=url><span itemprop=name>Blog</span></a></li><li role=menuitem><a href=https://julien.guittard.io/about-me/ itemprop=url><span itemprop=name>About me</span></a></li><li role=menuitem><a href=https://julien.guittard.io/contact/ itemprop=url><span itemprop=name>Contact</span></a></li></ul></div></nav><div class="hidden-xs hidden-sm"><a href=# class="search__container js--toggle-search-mode"><span class="glyphicon glyphicon-search"></span></a><div class=social><a href=# class=social__container><span class="glyphicon glyphicon-heart"></span></a><ul class=social__dropdown><li><a href=https://www.twitter.com/julienguittard target=_blank class=social__container title="Follow me on Twitter"><span class=zocial-twitter></span></a></li><li><a href=https://www.linkedin.com/in/julienguittard target=_blank class=social__container title="Hire me on LinkedIn"><span class=zocial-linkedin></span></a></li><li><a href=https://github.com/jguittard target=_blank class=social__container title="Clone me on Github"><span class=zocial-github></span></a></li><li><a href=/feed.xml target=_blank class=social__container title="Read me through RSS"><span class=zocial-rss></span></a></li></ul></div></div></div></header><div class=search-panel><div class=container><div class=row><div class=col-xs-12><form action=/search itemprop=potentialAction itemscope itemtype=https://schema.org/SearchAction><meta itemprop=target content="https://julien.guittard.io/search?q="><input itemprop=query-input type=search name=q class="search-panel__form js--search-panel-text" placeholder="Begin typing for search"><p class=search-panel__text>Press enter to see results or esc to cancel.</p></form></div></div></div></div><div class=container><article class="boxed push-down-60" itemscope itemtype=http://schema.org/BlogPosting itemref=jg-organization><link itemprop=mainEntityOfPage href=https://julien.guittard.io/blog/on-deprecating-servicelocatoraware.html><header class=meta><div class=row><div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"><div class=meta__container--without-image><div class=row><div class="col-xs-12 col-sm-8"><div class=meta__info><span class=meta__author role=contentinfo itemprop=author itemscope itemtype=http://schema.org/Person><figure itemprop=image itemscope itemtype=http://schema.org/ImageObject><img src="https://avatars2.githubusercontent.com/u/5320213?s=90&v=4" alt="Author avatar" width=30 height=30><meta itemprop=width content=30><meta itemprop=height content=30></figure><a href=/about target=_blank rel=author itemprop=url><span itemprop=name>Julien</span> </a>in <a href=/blog/categories/web/ >Web</a> </span><span class=meta__date role=contentinfo><span class="glyphicon glyphicon-calendar"></span> &nbsp; <time itemprop=datePublished datetime=2016-04-26T12:25:00-04:00>April 26, 2016</time><meta itemprop=dateModified content=2016-04-26T12:25:00-04:00></span></div></div><div class="col-xs-12 col-sm-4"><div class=meta__comments><span class="glyphicon glyphicon-comment"></span> &nbsp; <a href=/blog/on-deprecating-servicelocatoraware.html#disqus_thread data-disqus-identifier=/blog/on-deprecating-servicelocatoraware.html>Comments</a></div></div></div></div></div></div></header><div class=row><div class="col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2 push-down-60"><section class=post-content><h1 itemprop=headline>On Deprecating ServiceLocatorAware</h1><h3 itemprop=description>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor.</h3><div itemprop=articleBody><p>A month or two ago, we pushed a new release of <a href=https://zendframework.github.io/zend-mvc>zend-mvc</a> that provides a number of forwards-compatibility features to help users prepare their applications for the upcoming v3 release.</p><p>One of those was, evidently, quite controversial: in v3, zend-servicemanager no longer defines the <code class=highlighter-rouge>ServiceLocatorAwareInterface</code>, and this particular release of zend-mvc raises deprecation notices when you attempt to inject a service locator into application services, or pull a service locator within your controllers.</p><p>The arguments go something like this:</p><ul><li>“Dependency injection is too hard to understand!”</li><li>“This feature simplifies development!”</li><li>“If this is so bad, why was it in there in the first place?”</li></ul><p>These are usually followed by folks:</p><ul><li>saying they’ll switch frameworks (okay, I guess?);</li><li>asking for re-instatement of the feature (um, no);</li><li>asking for removal of the deprecation notices (why? so you can delay your pain until upgrading, when you’ll ask for re-instatement of the feature?); or</li><li>asking for a justification of the change.</li></ul><p>So, I’ve decided to do the last, justify the change, which addresses the reasons why we won’t do the middle two, and addresses why the assumptions and assertions about <code class=highlighter-rouge>ServiceLocatorAware</code>’s usefulness are mostly misguided.</p><blockquote><h2 id=originally-posted-elsewhere>Originally posted elsewhere</h2><p>This was originally posted as a comment on an issue. I’ve decided to post it to my blog to reach a larger audience, and to provide a bit more background and detail.</p></blockquote><p>The intent of zend-servicemanager is for use as an <a href=https://en.wikipedia.org/wiki/Inversion_of_control>Inversion of Control</a> container.</p><p>It was never intended as a general purpose <a href=https://en.wikipedia.org/wiki/Service_locator_pattern>service locator</a> (interestingly, that link details mostly disadvantages to the pattern!); that role was something foisted onto it in the spirit of “rapid application development” and to “simplify initial development,” but the intention even there was that, once a class has stabilized, you should refactor to inject dependencies. (And we all know what happens with busy developers: refactoring is put off or never occurs.)</p><p>Why shouldn’t you inject a service locator?</p><p><a href="https://www.google.com/search?q=service%20locator%20anti%20pattern">Google for “service locator anti pattern”</a> to get an idea of why it shouldn’t be used. The main points boil down to:</p><ul><li>Dependency hiding.</li><li>Error indirection.</li><li>Type safety.</li><li>Brittleness.</li></ul><p>Let’s look at each of these individually.</p><h2 id=dependency-hiding>Dependency hiding</h2><p>What is meant by “dependency hiding?”</p><p>Take a look at this class signature:</p><div class="language-php highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=k>class</span> <span class=nc>Foo</span> <span class=k>implements</span> <span class=nx>DispatchableInterface</span><span class=p>,</span> <span class=nx>ServiceLocatorAwareInterface</span>
<span class=p>{</span>
    <span class=cm>/* Defined by DispatchableInterface */</span>
    <span class=k>public</span> <span class=k>function</span> <span class=nf>dispatch</span><span class=p>(</span><span class=nx>Request</span> <span class=nv>$request</span><span class=p>,</span> <span class=nx>Response</span> <span class=nv>$response</span><span class=p>);</span>

    <span class=cm>/* Defined by ServiceLocatorAwareInterface */</span>
    <span class=k>public</span> <span class=k>function</span> <span class=nf>setServiceLocator</span><span class=p>(</span><span class=nx>ServiceLocatorInterface</span> <span class=nv>$serviceLocator</span><span class=p>);</span>
    <span class=k>public</span> <span class=k>function</span> <span class=nf>getServiceLocator</span><span class=p>();</span>
<span class=p>}</span>
</code></pre></div></div><p>Based on that, you’d expect:</p><ul><li>that you can instantiate the object with no dependencies.</li><li>if you feel the need to, you <em>could</em> pass a service locator to the instance.</li><li>you should be able to execute <code class=highlighter-rouge>dispatch()</code> by passing it a request and response instance, and it should successfully return.</li></ul><p>The service locator is nebulous; its purpose isn’t clear, and it’s clearly not a <em>required</em> dependency, as it’s in a setter method.</p><p>So, you go and write a test for the <code class=highlighter-rouge>dispatch()</code> method, and you get a <code class=highlighter-rouge>ServiceNotFoundException</code>. What’s wrong?</p><p>You dive into the code of the <code class=highlighter-rouge>dispatch()</code> method:</p><div class="language-php highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=k>public</span> <span class=k>function</span> <span class=nf>dispatch</span><span class=p>(</span><span class=nx>Request</span> <span class=nv>$request</span><span class=p>,</span> <span class=nx>Response</span> <span class=nv>$response</span><span class=p>)</span>
<span class=p>{</span>
    <span class=nv>$authentication</span> <span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>serviceLocator</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=s1>'authentication'</span><span class=p>);</span>

    <span class=k>if</span> <span class=p>(</span><span class=o>!</span> <span class=nv>$authentication</span><span class=o>-&gt;</span><span class=na>hasIdentity</span><span class=p>())</span> <span class=p>{</span>
        <span class=nv>$response</span><span class=o>-&gt;</span><span class=na>setStatus</span><span class=p>(</span><span class=mi>401</span><span class=p>);</span>
        <span class=k>return</span> <span class=nv>$response</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=nv>$identity</span> <span class=o>=</span> <span class=nv>$authentication</span><span class=o>-&gt;</span><span class=na>getIdentity</span><span class=p>();</span>
    <span class=nv>$response</span><span class=o>-&gt;</span><span class=na>setBody</span><span class=p>(</span>
        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>serviceLocator</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=s1>'renderer'</span><span class=p>)</span><span class=o>-&gt;</span><span class=na>render</span><span class=p>(</span>
            <span class=s1>'foo'</span><span class=p>,</span>
            <span class=p>[</span><span class=s1>'identity'</span> <span class=o>=&gt;</span> <span class=nv>$identity</span><span class=p>]</span>
        <span class=p>)</span>
    <span class=p>);</span>
    <span class=k>return</span> <span class=nv>$response</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></div><p>There’s two possible places that <code class=highlighter-rouge>ServiceNotFoundException</code> may have been thrown: on the first line of the method, or within the <code class=highlighter-rouge>setBody()</code> call. In both cases, you’re faced with a conundrum:</p><ul><li>You now know that the service locator is <em>required</em>. That wasn’t obvious from looking at the class originally; it appeared to be an <em>optional</em> dependency.</li><li>You have no idea what instance types are expected for each of the <code class=highlighter-rouge>authentication</code> and <code class=highlighter-rouge>renderer</code> services.</li></ul><p>This latter is particularly troubling. You now have to understand all the various locations within the application that services may be defined, and start hunting through those. Chances are, you’ll discover that those service names may actually be <em>aliases</em>, which means you’ll determine what it aliases to, but then have to re-start your search to determine what the actual service is.</p><p>That, in a nutshell, is dependency hiding. The <em>requirements</em> for operation of the class are hidden <em>within</em> the code, and the types cannot necessarily be inferred.</p><p>(Sure, you could add annotations above the <code class=highlighter-rouge>get()</code> calls to detail the types. But that’s a band-aid; you still need to look in the code itself to determine what the requirements are.)</p><p>One side effect of dependency hiding is that <em>it makes testing more difficult</em>. I think the example above illustrates that; you cannot look at the signatures alone to get an idea of behavior and requirements, but need to dig into the code. Additionally, test setup becomes more difficult, and more brittle, as you’re now required to add a dependency on a container, populate the container, and hope you didn’t miss something. I’ll speak more on this later. The point is: anything that makes testing more difficult means developers will avoid testing, and that decreases code quality.</p><p>Let’s break it down a bit more:</p><ul><li>You want a particular object instance.</li><li>You are now coupled to the service locator for retrieving the instance.</li><li>You retrieve the instance from the service locator via a string name, which could be <em>anything</em>, and not necessarily indicative of <em>purpose</em> or its <em>capabilities</em>.</li><li>That retrieval <em>may raise exceptions</em> unrelated to the component being used, which you need to account for either in your code or when debugging later.</li></ul><p>All you really want is the object instance. <em>Why not just inject that instance in the constructor?</em> Defining the requirements <em>as constructor arguments</em> makes them explicit, and ensures somebody looking solely at the API understands what is required for operation.</p><p><strong>tl;dr</strong>: You want the dependency you’re consuming, not the three steps of indirection required to get at it. Make all dependencies required, and inject them in the constructor.</p><h2 id=error-indirection>Error indirection</h2><p>Re-using the example from above, let’s examine the fact that we got a <code class=highlighter-rouge>ServiceNotFoundException</code>. This is happening <em>at runtime</em>. Essentially, the work of bootstrapping, routing, instantiating the controller, and pre-dispatch listeners have already run, only to fail once we get to the actual logic requested <em>because a dependency was missing</em>.</p><p>In a typical PHP application workflow, this is not much different from if the dependencies were directly injected. But if you consider usage in a system such as <a href=http://reactphp.com>React</a>, where bootstrapping the application can occur once, and dispatch happens over and over again, it’s quite problematic; it’s in essence a runtime exception, <em>due to misconfiguration</em>. This is quite difficult to trace, and not something you want to have happen in production.</p><h2 id=type-safety>Type safety</h2><p>Again, going back to the original example: we don’t know what the types expected are, <em>nor can we guarantee that what we pull from the container will be correct.</em></p><p>An inexperienced developer, or one not familiar with all the use cases for a given instance in a container, could map the service to an unexpected class. You won’t know until runtime, in production, that this has occurred, when you suddenly get “method does not exist” fatal PHP errors. These are difficult to track down, as you will not know what the type is, what was expected, nor where the instance is originally defined. It will take several steps through the debugger to determine that it’s due to a misconfigured container.</p><p>Compare this to dependencies declared in the constructor:</p><div class="language-php highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=k>class</span> <span class=nc>Foo</span> <span class=k>implements</span> <span class=nx>DispatchableInterface</span>
<span class=p>{</span>
    <span class=k>public</span> <span class=k>function</span> <span class=nf>__construct</span><span class=p>(</span>
        <span class=nx>AuthenticationService</span> <span class=nv>$authentication</span><span class=p>,</span>
        <span class=nx>RendererInterface</span> <span class=nv>$renderer</span>
    <span class=p>);</span>

    <span class=cm>/* Defined by DispatchableInterface */</span>
    <span class=k>public</span> <span class=k>function</span> <span class=nf>dispatch</span><span class=p>(</span><span class=nx>Request</span> <span class=nv>$request</span><span class=p>,</span> <span class=nx>Response</span> <span class=nv>$response</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></div><p>You’ll still get a fatal error, but you’ll know that the class was being instantiated with an invalid argument from the beginning, and know that you need to check your mappings and/or factories. This type of problem can often be found with static analysis tools, giving another way for you to help improve your code quality easily.</p><p>Another aspect of this is that your IDEs will now also be able to assist you in understanding what methods are available. Because the property is injected in the constructor, the <em>static analysis</em> (I’m using that word again!) built-in to most IDEs will be able to infer the type when you access it in your code, and give you type hinting. This is not universally true with service locators (I understand PHPStorm is making some headway on this, but I also know it’s a very difficult task to accomplish, and error prone).</p><h2 id=brittleness>Brittleness</h2><p>Relying on a service locator introduces brittleness into your designs.</p><p>Every time you add a call to <code class=highlighter-rouge>get()</code>, you’re introducing a new dependency. This often breaks tests:</p><ul><li>If you’re mocking the service locator, you now have additional calls to its methods that may be called in the course of a test, making the mock fail its assertions.</li><li>If you’re using a concrete locator instance, and an instance is expected to be present, you now get exceptions raised over the course of test execution.</li></ul><p>This sort of brittleness leads to developers not wanting to test, making the code more brittle and more likely to break in unexpected ways in the future. <em><strong>Any practice that makes testing more difficult should be reconsidered.</strong></em></p><p>Additionally, it leads to <em>undocumented requirements</em>, making it less clear for a consumer to know what services need to be present for the code to work. When you work across teams, this is critical.</p><p>Another aspect of using a service locator is that it’s very easy for your class to grow to span too many responsibilities. Let me explain.</p><p>One argument often used in favor of using a service locator is to facilitate <em>optional</em> dependencies: dependencies that are only used during specific paths of code execution. If the dependency is particularly heavy (web services, database access, etc.), the argument is that it makes sense to pull these from the container only if they’re about to be used.</p><p>There are two ways to address this:</p><ul><li>zend-servicemanager (and several other IoC implementations) already offers <a href=http://zendframework.github.io/zend-servicemanager/lazy-services/ >lazy services</a>, which solve the problem by creating a proxy class that wraps the factory for retrieving the service. You interact with it just as you would the original instance, but the “heavy instantiation” is delayed until first use.</li><li>Split your concerns into multiple classes! This is the better solution anyways; if you know certain dependencies are only in certain code paths, create a new controller for that path, and route specifically to it. As an example, if you know that database access will only occur on (a) POST requests to the service, and (b) when validation occurs, then:<ul><li>Create a controller that maps specifically to POST requests for the given path, and</li><li>optionally, wrap the database connection as a lazy service. Chances are, though, that if you get the request routed to that specific controller, having the database access ready will be acceptable performance-wise.</li></ul></li></ul><p><strong>tl;dr</strong>: dependence on service locators leads to brittle design and scope creep. When you pay attention to dependencies, you end up splitting concerns into multiple classes, making them easier to test and maintain.</p><h2 id=there-are-valid-use-cases>There <em>are</em> valid use cases</h2><p>Service locators have some valid use cases. When you have a number of related instances, and pulling them at runtime will be based on input, a service locator is ideal. This scenario includes things like:</p><ul><li>plugin and helper systems</li><li>strategy patterns</li><li>routing systems</li></ul><p>In these cases, however, we’re not dealing with general application dependencies; we’re working with specific contexts, and the instances pulled work in that context.</p><p>In many cases, even these could be directly injected. If you <em>know</em> your code paths include specific plugins or helpers, you can also inject those. (We’ve done this with several Apigility controllers, as it has simplified testing!)</p><h2 id=takeaways>Takeaways</h2><p>As a general-purpose way of getting dependencies, service locators are an anti-pattern at best, and lead to quality decline and brittle architecture.</p><p>We introduced the <code class=highlighter-rouge>ServiceLocatorAwareInterface</code> due to pressure from users who wanted “rapid application development” features, and who were unclear about the benefits of dependency injection. At the time, <em>it seemed like a good idea</em>; we were listening and responding to our users.</p><p>However, with the benefit of hindsight, I think we made a mistake when we did so, and ultimately did a disservice to our users; the implementation promotes bad habits and reduces code quality for those who rely on the pattern. Hopefully the discussion above sheds more light on why we’ve finally decided to remove it, and how we feel the removal will help you improve your code.</p></div></section><div class=row><div class="col-xs-12 col-sm-6"><div class=post-comments><a class="btn btn-primary" href=https://julien.guittard.io/blog/on-deprecating-servicelocatoraware.html#disqus_thread data-disqus-identifier=/blog/on-deprecating-servicelocatoraware.html></a></div></div><div class="col-xs-12 col-sm-6"><div class=social-icons><a href="https://facebook.com/sharer.php?u=https://julien.guittard.io/blog/on-deprecating-servicelocatoraware.html" rel=nofollow target=_blank title="Share on Facebook" class=social-icons__container><span class=zocial-facebook></span></a> <a href="https://twitter.com/intent/tweet?text=On Deprecating ServiceLocatorAware&url=https://julien.guittard.io/blog/on-deprecating-servicelocatoraware.html&via=julienguittard" rel=nofollow target="
            " title="Share on Twitter" class=social-icons__container><span class=zocial-twitter></span></a> <a href="https://plus.google.com/share?url=https://julien.guittard.io/blog/on-deprecating-servicelocatoraware.html" rel=nofollow target=_blank title="Share on Google" class=social-icons__container><span class=zocial-google></span></a></div></div></div><div class=row><div class="col-xs-12 col-sm-6"><div class=post-author id=author-box role=contentinfo itemprop=author itemscope itemtype=http://schema.org/Person><h6>Written By</h6><hr><figure itemprop=image itemscope itemtype=http://schema.org/ImageObject><img src="https://avatars2.githubusercontent.com/u/5320213?s=90&v=4" alt="Author avatar" itemprop=contenturl><meta itemprop=url content="https://avatars2.githubusercontent.com/u/5320213?s=90&v=4"><meta itemprop=width content=90><meta itemprop=height content=90></figure><h5><a href=/about itemprop=url><span itemprop=name>Julien Guittard</span></a></h5><span class=post-author__text></span></div></div><div class="col-xs-12 col-sm-6"><div class=tags><h6>Tags</h6><meta itemprop=keywords content="patterns, php, programming, zend-framework"><hr><a href=/blog/tags/patterns/ class=tags__link rel=tag>patterns</a> <a href=/blog/tags/php/ class=tags__link rel=tag>php</a> <a href=/blog/tags/programming/ class=tags__link rel=tag>programming</a> <a href=/blog/tags/zend-framework/ class=tags__link rel=tag>zend-framework</a></div></div></div><div class="disqus-comments push-down-45"><div id=disqus_thread></div><script>var disqus_shortname="julienguittard",disqus_config=function(){this.page.url="https://julien.guittard.io/blog/on-deprecating-servicelocatoraware.html",this.page.identifier="on-deprecating-servicelocatoraware",this.page.title="On Deprecating ServiceLocatorAware"};!function(){var e=document,t=e.createElement("script");t.src="//"+disqus_shortname+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div><div class=related-stories><h6>Related Stories</h6><hr></div></div></div></article></div><footer class=footer role=contentinfo><div class=container><div class="col-xs-12 col-md-3"><div class="widget-about push-down-30"><img src=https://julien.guittard.io/images/logo.png alt=Logo width=176 height=70><br><span class=footer__text>Hi, I'm Julien Guittard, welcome to my personal website. I am a web application architect and trainer.</span><br><br><div class="social-icons widget-social-icons"><a href=https://www.twitter.com/julienguittard class=social-icons__container title="Follow me on Twitter"><span class=zocial-twitter></span> </a><a href=https://www.linkedin.com/in/julienguittard class=social-icons__container title="Hire me on LinkedIn"><span class=zocial-linkedin></span> </a><a href=https://github.com/jguittard class=social-icons__container title="Clone me on Github"><span class=zocial-github></span> </a><a href=/feed.xml class=social-icons__container title="Read me through RSS"><span class=zocial-rss></span></a></div></div></div><div class="col-xs-12 col-md-3"><div class="tags widget-tags"><h6>Tags</h6><hr><a href=/blog/tags/:tag/http class=tags__link rel=tag>http</a> <a href=/blog/tags/:tag/middleware class=tags__link rel=tag>middleware</a> <a href=/blog/tags/:tag/php class=tags__link rel=tag>php</a> <a href=/blog/tags/:tag/programming class=tags__link rel=tag>programming</a> <a href=/blog/tags/:tag/psr-7 class=tags__link rel=tag>psr-7</a></div></div><div class="col-xs-12 col-md-3"><div class="widget-navigation push-down-30"><h6>Navigation</h6><hr><ul class=navigation><li><a href=https://julien.guittard.io/ >Home</a></li><li><a href=https://julien.guittard.io/blog/ >Blog</a></li><li><a href=https://julien.guittard.io/about-me/ >About me</a></li><li><a href=https://julien.guittard.io/contact/ >Contact</a></li></ul></div></div><div class="col-xs-12 col-md-3"><div class="widget-contact push-down-30"><h6>Contact</h6><hr></div></div></div></footer><section class=copyrights><div class=container><div class=row><div class="col-xs-12 col-sm-6">Copyright 2009-2018 &copy; by Julien Guittard.</div><div class="col-xs-12 col-sm-6"><div class=copyrights--right>Made with <i class="glyphicon glyphicon-heart"></i> using <a href=https://jekyllrb.com/ target=_blank>Jekyll</a> and <a href=https://pages.github.com target=_blank>Github Pages</a>.</div></div></div></div></section><script src=https://julien.guittard.io/jquery/dist/jquery.js charset=utf-8></script><script src=https://julien.guittard.io/sass-bootstrap/dist/js/bootstrap.js charset=utf-8></script><script src=https://julien.guittard.io/underscore/underscore.js charset=utf-8></script><script src=https://julien.guittard.io/scripts/main.js></script><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","","auto"),ga("send","pageview")</script><script id=dsq-count-scr src=//julienguittard.disqus.com/count.js async></script></body></html>